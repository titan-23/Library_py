<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="css/dark.css">
<title>FenwickTree_</title>
</head>
<body>
<hr /><h1><code>FenwickTree</code></h1><hr /><h2>コード</h2><p><a href="https://github.com/titanium-22/Library_py/blob/main/DataStructures/FenwickTree/FenwickTree.py"><code>FenwickTree</code></a></p><hr /><ul>
<li><code>FenwickTree</code> です。</li>
</ul><ul>
<li>1点更新と区間和取得ができます。</li>
</ul><hr /><h2>仕様</h2><h4><code>fw = FenwicTree(n_or_a: Union[Iterable[int], int])</code></h4><ul>
<li><code>n_or_a</code> が <code>int</code> のとき、初期値 <code>0</code> 、長さ <code>n</code> で構築します。</li>
</ul><ul>
<li><code>n_or_a</code> が <code>Iterable</code> のとき、初期値 <code>a</code> で構築します。</li>
</ul><ul>
<li>時間計算量 <code>O(n)</code> です。</li>
</ul><h4><code>fw.pref(r: int) -&gt; int</code></h4><ul>
<li>区間 <code>[0, r)</code> の総和を返します。</li>
</ul><ul>
<li>時間計算量 <code>O(logn)</code> です。</li>
</ul><h4><code>fw.suff(l: int) -&gt; int</code></h4><ul>
<li>区間 <code>[l, n)</code> の総和を返します。</li>
</ul><ul>
<li>時間計算量 <code>O(logn)</code> です。</li>
</ul><h4><code>fw.sum(l: int, r: int) / prod -&gt; int</code></h4><ul>
<li>区間 <code>[l, r)</code> の総和を返します。</li>
</ul><ul>
<li>時間計算量 <code>O(logn)</code> です。</li>
</ul><h4><code>fw[k: int] -&gt; int</code></h4><ul>
<li>位置 <code>k</code> の要素を返します。</li>
</ul><ul>
<li>時間計算量 <code>O(logn)</code> です。</li>
</ul><h4><code>fw.add(k: int, x: int) -&gt; None</code></h4><ul>
<li>位置 <code>k</code> に <code>x</code> を加算します。</li>
</ul><ul>
<li>時間計算量 <code>O(logn)</code> です。</li>
</ul><h4><code>fw[k: int] = x: int</code></h4><ul>
<li>位置 <code>k</code> を <code>x</code> に更新します。</li>
</ul><ul>
<li>時間計算量 <code>O(logn)</code> です。</li>
</ul><h4><code>fw.bisect_left(w: int) -&gt; Optional[int]</code></h4><h4><code>fw.bisect_right(w: int) -&gt; int</code></h4><h4><code>fw.tolist() -&gt; List[int]</code></h4><ul>
<li>List にして返します。</li>
</ul><ul>
<li>時間計算量 <code>O(nlogn)</code> です。</li>
</ul><h4><code>get_inversion_num(a: List[int], compress: bool=False) -&gt; int</code></h4><ul>
<li><code>staticmethod</code> です。</li>
</ul><ul>
<li>List <code>a</code> の転倒数を返します。</li>
</ul><ul>
<li>時間計算量 <code>O(nlogn)</code> です。</li>
</ul><hr /><h2>使用例</h2><p><a href="https://judge.yosupo.jp/submission/148336">Point Add Range Sum</a></p><p>```python</p><p>n, q = map(int, input().split())</p><p>A = list(map(int, input().split()))</p><p>fw = FenwickTree(A)</p><p>for _ in range(q):</p><p>t, p, x = map(int, input().split())</p><p>if t == 0:</p><pre><code>fw.add(p, x)
</code></pre><p>else:</p><pre><code>l, r = p, x
</code></pre><pre><code>print(fw.sum(l, r))
</code></pre><p>```</p>
</body>
</html>
