<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href=../../style.css">
<title>SegmentTree_</title>
</head>
<body>
<hr /><h1><code>SegmentTree</code></h1><hr /><h2>コード</h2><p><a href="https://github.com/titanium-22/Library_py/blob/main/DataStructures/SegmentTree/SegmentTree.py"><code>SegmentTree</code></a></p><hr /><ul>
<li>セグメント木です。非再帰です。</li>
</ul><hr /><h2>仕様</h2><h4><code>seg = SegmentTree(n_or_a: Union[int, Iterable[T]], op: Callable[[T, T], T], e: T)</code></h4><ul>
<li>第1引数 <code>n_or_a</code> が <code>n: int</code> のとき、 <code>e</code> を初期値として長さ <code>n</code> の <code>SegmentTree</code> を構築します。  </li>
</ul><ul>
<li>第1引数 <code>n_or_a</code> が <code>a: Iterable[T]</code> のとき、 <code>a</code> から <code>SegmentTree</code> を構築します。  </li>
</ul><ul>
<li>いずれも <code>O(N)</code> です。</li>
</ul><h4><code>seg.set(k: int, v: T) / seg[k] = v -&gt; None</code></h4><ul>
<li><code>k</code> 番目の値を <code>v</code> に更新します。</li>
</ul><ul>
<li><code>O(logN)</code> です。</li>
</ul><h4><code>seg.get(k: int) / seg[k] -&gt; T</code></h4><ul>
<li><code>k</code> 番目の値を返します。 </li>
</ul><ul>
<li><code>O(1)</code> です。</li>
</ul><h4><code>seg.prod(l: int, r: int) -&gt; T</code></h4><ul>
<li>区間 <code>[l, r)</code> の総積を返します。</li>
</ul><ul>
<li><code>O(logN)</code> です。</li>
</ul><h4><code>seg.all_prod() -&gt; T</code></h4><ul>
<li>区間 <code>[l, N)</code> の総積を返します。</li>
</ul><ul>
<li><code>O(1)</code> です。</li>
</ul><h4><code>seg.max_right(l: int, f: Callable[[T], bool]) -&gt; int</code></h4><ul>
<li>Find the largest index R s.t. f([l, R)) == True.</li>
</ul><ul>
<li><code>O(logN)</code></li>
</ul><h4><code>seg.min_left(r: int, f: Callable[[T], bool]) -&gt; int</code></h4><ul>
<li>Find the smallest index L s.t. f([L, r)) == True.</li>
</ul><ul>
<li><code>O(logN)</code></li>
</ul><h4><code>seg.tolist() -&gt; List[T]</code></h4><ul>
<li>各要素からなる <code>List</code> を返します。</li>
</ul><ul>
<li><code>O(N)</code> です。</li>
</ul><h4><code>seg.show() -&gt; None</code></h4><ul>
<li>デバッグ用のメソッドです。</li>
</ul><h4><code>str(seg) / repr(seg)</code></h4><hr /><h2>使用例</h2><p>```python</p><p>def op(s, t):</p><p>return min(s, t)</p><p>e = 10**9</p><p>n = int(input())</p><p>A = list(map(int, input().split()))</p><p>seg = SegmentTree(A, op, e)</p><p>```</p>
</body>
</html>
