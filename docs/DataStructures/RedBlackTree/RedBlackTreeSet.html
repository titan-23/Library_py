<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../../style.css">
<title>Library_py-DataStructures-RedBlackTree-RedBlackTreeSet</title>
</head>
<body>
### [Home](https://titanium-22.github.io/Library_py/)

_____

_____

# `RedBlackTreeSet`

_____

## コード

[`RedBlackTreeSet`](https://github.com/titanium-22/Library_py/tree/main/DataStructures/RedBlackTree/RedBlackTreeSet.py)

_____

赤黒木です。集合です。 `std::set` も怖くない。

アルゴリズムイントロダクションを参考に書きました。

_____

## 仕様: `Node`

`Node` です。双方向に進められます。 `1` だけ進める場合、計算量は平均 `O(1)` 、最悪 `O(logN)` です。 `k` だけ進める場合、だいたい `k` 倍になります(ホント?)。

#### `node += 1 / node -= 1`
- `node` を次 / 前の `node` にします。存在しないときは `None` になります。

#### `node + 1 / node - 1`
- 次 / 前の `node` を返します。存在しないときは `None` を返します。

#### `node.key`
- `node` が保持している `key` です。変更はしないでください。できない仕様にしろ、それはそう

#### `node.count`
- `node` が保持している `key` の個数です。

_____

## 仕様: `RedBlackTreeSet`

#### `rbtree = RedBlackTreeSet(a: Iterable[T]=[])`
- `a` から `RedBlackTreeSet` を再帰的に構築します。
- 重複無くソート済みなら `O(N)` 、そうでないなら `O(NlogN)` です。

#### `rbtree.discard_iter(node: Node) -> None`
- `node` を削除します。
- 償却 `O(1)` らしいです。ホントですか?

#### `rbtree.get_max_iter() / .get_min_iter() -> Optional[Node]`
- 最大値 / 最小値を指す `Node` を返します。空であれば `None` を返します。
- `O(1)` です。

#### `rbtree.le_iter(key: T) / .lt_iter(key) / .ge_iter(key) / gt_iter(key) -> Optional[Node]`
- `key` (以下の / より小さい / 以上の / より大きい) 値で (最大 / 最大 / 最小 / 最小) の `Node` を返します。存在しなければ `None` を返します。
- `O(logN)` です。

#### `rbtree.find(key) -> Optional[Node]`
- `key` が存在すれば `key` を指す `Node` を返します。存在しなければ `None` を返します。
- `O(logN)` です。

_____

## 使用例

```python
s = RedBlackTreeSet([3, 1, 4, 1, 5, 9])
it = s.get_min_iter()
while it:
  print(it.key, end=' ')
  it += 1

# 1 3 4 5 9
```


</body>
</html>
